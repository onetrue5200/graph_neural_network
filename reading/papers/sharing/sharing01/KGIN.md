通过知识图谱学习意图来进行推荐



知识图谱在推荐系统中扮演非常重要的一个角色，因为知识图谱在提升推荐系统的准确率和可解释性方面有很大的潜力（丰富的实体和关系信息）。现在一个比较流行的方式是使用图神经网络建造端到端的模型。但是目前的这种模型对关系的建模是比较粗粒度的，因此这些模型的效果仍有待提高。

在这篇文章中，我们使用辅助的商品信息来探索每次用户与商品交互背后的意图，并提出一个新的模型，基于知识图谱的意图网络。具体来说，意图就是知识图谱关系的组合，且意图之间相互独立以使模型有更好的性能和可解释性。另外，文章也给图神经网络设计了一个新的信息聚合的方法，它能够递归地聚合长距离连接的关系信息。这种方法能够让我们提炼出关于用户意图的有用信息，并且将这些信息嵌入到用户和商品的表示中。



如何在知识图谱的基础上学习到高质量的用户和商品的表示在推荐系统中非常重要。之前的embeddings都是通过KG三元组生成并将他们看成先验知识。后来的研究将embeddings融入更长路径上的信息，以得到更好的特征。但是这种方法类似于特征工程，需要得到高质量的路径，面临很多问题，比如重复劳动试错的特征工程，对不同领域的可移植性差，以及性能不稳定等。

目前主流方法是基于图神经网络来建立端到端的模型。这种模型的核心是使用一个信息融合策略，能够高效地融合图中路径上的信息形成embedding。这种基于图神经网络的模型在推荐系统中已经取得了非常优异的效果。

尽管上面提到的模型已经非常优秀了，但是文章仍然认为当前模型在两个方面建模效果差。一是用户意图，二是关系路径。

用户意图：目前所有对用户商品交互的研究都没有更加细粒度地考虑到用户意图。也就是有一个非常重要的事实被忽略了，一个用户会有特定的多个意图，这些意图才是驱使用户消费不同商品的直接因素。例如有一个意图是一个导演和一个明星的组合，表示用户喜欢这个导演和这个明星，因此这个意图会驱使用户去看这个导演和明星的电影。这里的意图都是倾向性的意图，忽略具有抑制性的意图。

关系路径：很多研究的路径聚合都是基于节点的，也就是路径上仅聚合节点的信息，忽略路径上的边的信息，也就是不关心这边的含义。如左图所示，用户u1的embedding表示为前三阶邻居信息的聚合。这种方法就忽略了关系的依赖以及路径序列信息。比如从u1到v3的p1，r2，r3。因此，过去的基于节点的路径聚合方法不足以捕捉到关系信息。

因此，本文的出现就是要解决这两个问题的。

1. 用户意图建模。

   每个用户商品交互都可以加入隐藏的意图。这些意图我们使用向量表示，并且将意图与知识图谱的关系分布联系起来，可以理解为关系组合的重要程度，这个意图的关系越重要，相应的权重就会越大。同时，意图与意图之间要加入相互独立的限制条件，防止信息冗余，增加意图的可解释性。

2. 含关系的路径聚合。

   我们将关系路径看成是一个信息通道，将每个信息通道都映射成一个表征向量。由于用户-意图-商品三元组与知识图谱三元组这两组关系是异构的，因此需要两种策略分别进行关系的embedding。这种方式聚合成的embedding能够区分不同的意图，以及不同的关系。